{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet LoginComponent = class LoginComponent {\n  constructor(elementRef, authService, router) {\n    this.elementRef = elementRef;\n    this.authService = authService;\n    this.router = router;\n    this.error = false;\n    this.errorMessage = \"\";\n    this.href = \"\";\n    this.role = \"\";\n  }\n\n  ngOnInit() {\n    this.href = this.router.url;\n    console.log(this.href);\n\n    if (this.router.url == '/loginCustomer') {\n      this.customer = true;\n      this.role = \"Customer Login\";\n      this.employee = false;\n    } else {\n      this.role = \"Employee Login\";\n      this.customer = false;\n      this.employee = true;\n    }\n  }\n\n  onSubmit(f) {\n    console.log(f);\n\n    if (this.href === '/loginCustomer') {\n      let user = {\n        \"userid\": f.value.Id,\n        \"password\": f.value.password,\n        \"role\": \"CUSTOMER\"\n      };\n      console.log(user);\n      this.authService.loginuser(user).subscribe(val => {\n        console.log(user);\n        window.localStorage.setItem(\"token\", val.authToken);\n        window.localStorage.setItem('userid', val.userid);\n        this.authService.isAuthenticated.next(true);\n        this.router.navigate(['/customerdashboard']);\n      }, err => {\n        this.error = true;\n        this.authService.isAuthenticated.next(false);\n        this.errorMessage = \"Username/Password is incorrect... Please check\";\n      });\n    } else {\n      if (this.href === '/loginEmployee') {\n        let user = {\n          \"userid\": f.value.Id,\n          \"password\": f.value.password,\n          \"role\": \"EMPLOYEE\"\n        };\n        console.log(user);\n        this.authService.loginuser(user).subscribe(val => {\n          console.log(user);\n          window.localStorage.setItem(\"token\", val.authToken);\n          window.localStorage.setItem('userid', val.userid);\n          this.authService.isAuthenticated.next(true);\n          this.router.navigate(['/employeedashboard']);\n        }, error => {\n          this.error = true;\n          this.authService.isAuthenticated.next(false);\n          this.errorMessage = \"Username/Password is incorrect... Please check\";\n        });\n      }\n    }\n  }\n\n};\nLoginComponent = __decorate([Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})], LoginComponent);\nexport { LoginComponent };","map":null,"metadata":{},"sourceType":"module"}