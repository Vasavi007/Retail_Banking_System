{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet CustomerComponent = class CustomerComponent {\n  constructor(customerservice, router) {\n    this.customerservice = customerservice;\n    this.router = router;\n    this.customerValue = null;\n    this.display = false;\n  }\n\n  ngOnInit() {\n    this.userid = window.localStorage.getItem('userid');\n    console.log(this.userid);\n    this.getCustomerDetails();\n  }\n\n  onSelectedChange(val) {\n    console.log(val);\n    this.selectedValue = val;\n  }\n\n  onDisplay() {\n    this.customerservice.getAccount(this.selectedValue).subscribe(val => {\n      this.transactions = val;\n      console.log(this.transactions);\n      this.display = true;\n    }, error => {\n      console.log(\"Error Occured\");\n    });\n  }\n\n  getCustomerDetails() {\n    this.customerservice.customerDetails(this.userid).subscribe(val => {\n      console.log(val);\n      this.customerValue = val;\n    });\n  }\n\n  onTransfer(out) {\n    console.log(out.value);\n    let transactionInput = {\n      \"sourceAccount\": {\n        \"accountId\": out.value.accountid,\n        \"amount\": out.value.amount\n      },\n      \"targetAccount\": {\n        \"accountId\": out.value.targetAccount,\n        \"amount\": out.value.amount\n      },\n      \"amount\": out.value.amount\n    };\n    console.log(transactionInput);\n    this.customerservice.transfer(transactionInput).subscribe(val => {\n      console.log(val);\n      this.getCustomerDetails();\n      this.transfermsg = \"Successfull Transaction...\";\n      location.reload();\n    }, error => {\n      this.transfermsg = \"Transaction Failed..\";\n      location.reload();\n    });\n    this.getCustomerDetails();\n  }\n\n  onWithdraw(details) {\n    console.log(details.value);\n    let value = {\n      accountId: details.value.aId,\n      amount: details.value.amount\n    };\n    this.customerservice.withdraw(value).subscribe(out => {\n      this.withdrawmsg = \"Amount Successfully Withdrawn from Account\";\n      this.router.navigate(['/customerdashboard']);\n      location.reload();\n    }, error => {\n      this.withdrawmsg = \"Please maintain minimum balance..\";\n    });\n  }\n\n};\nCustomerComponent = __decorate([Component({\n  selector: 'app-customer',\n  templateUrl: './customer.component.html',\n  styleUrls: ['./customer.component.css']\n})], CustomerComponent);\nexport { CustomerComponent };","map":null,"metadata":{},"sourceType":"module"}